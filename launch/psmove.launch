<launch>
  <!-- <node name="psmove_driver" -->
  <!--       pkg="jsk_2014w_rinko" type="psmove_driver" -->
  <!--       output="screen"> -->
  <!-- </node> -->

  <arg name="use_oculus" default="false" />
  <arg name="use_psmove" default="true" />
  <arg name="launch_rviz" default="false" />
  <arg name="launch_usbcam" default="true" />
  <arg name="launch_openni" default="false" />
  <arg name="image" default="/usb_cam/image_raw" />


  <group if="$(arg use_psmove)">
    <node name="psmove_tracker"
          pkg="jsk_2014w_rinko" type="psmove_tracker"
          output="screen">
      <remap from="image" to="$(arg image)" />
      <param name="color_r" value="255" />
      <param name="color_b" value="255" />
      <param name="radius_smoothing_threshold" value="5" />
    </node>

    <node name="usb_cam"
          pkg="usb_cam" type="usb_cam_node"
          if="$(arg launch_usbcam)" />
    <include file="$(find openni_launch)/launch/openni.launch"
             if="$(arg launch_openni)" />

    <node name="pr2_psmove_controller"
          pkg="jsk_2014w_rinko" type="pr2_psmove_controller.l"
          output="screen" />
  </group>

  <group if="$(arg use_oculus)">
    <node name="rviz" pkg="rviz" type="rviz"
          args="-d $(find jsk_2014w_rinko)/config/oculus_rviz_config.rviz"
          if="$(arg launch_rviz)" />
    <node name="pr2_oculus_controller"
          pkg="jsk_2014w_rinko" type="pr2_oculus_controller.l" />
  </group>

</launch>










